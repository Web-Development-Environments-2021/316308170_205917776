<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="./js/jquery-3.4.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.15.1/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/additional-methods.js"></script>
</head>

<body>
    <header>
        <img id="upper_logo" src="./images/logo.jpg">
    </header>

    <!-- Navigation Bar -->
    <div class="topnav">
        <a id="#welcome" onclick="reset_game(); menu('welcome'); ">Welcome</a>
        <a id="#register" onclick="reset_game(); menu('register');">Register</a>
        <a id="#login" onclick="reset_game(); menu('login');">Log In</a>
        <a id="about" onclick="btn_about()">About</a>
    </div>
    <!-- Content div -->
    <div class="content">
        <!-- Welcome div -->
        <div class="welcome">
            <img src="./images/pacman logo.png" class="welcome_logo">
            <button class="glowing_button" style="top: -80px;" onclick="menu('register')">Sign Up</button>
            <button class="glowing_button" style="top: -80px;" onclick="menu('login')">Sign In</button>
        </div>
        <!-- Register div -->
        <div class="register">
            <h1>Sign Up</h1>
            <form id='register_form'>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="username">Username:</label>
                    </div>
                    <div class="field_right">
                        <input type="text" placeholder="Username" name="username" id="r_username">
                    </div>
                </div>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="password">Password:</label>
                    </div>
                    <div class="field_right">
                        <input type="password" placeholder="Password" name="password" id="r_password">
                    </div>
                </div>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="full_name">Full Name:</label>
                    </div>
                    <div class="field_right">
                        <input type="text" placeholder="Full Name" name="full_name" id="r_full_name">
                    </div>
                </div>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="email">Email:</label>
                    </div>
                    <div class="field_right">
                        <input type="email" placeholder="Email" name="email" id="r_email">
                    </div>
                </div>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="birthdate">Birth Date:</label>
                    </div>
                    <div class="field_right">
                        <input type="date" placeholder="birthdate" name="birthdate" id="r_birthdate">
                    </div>
                </div>
                <button class="glowing_button" type="submit" style="top: 30px;">Sign Up</button>
            </form>
        </div>
        <!-- Log In div -->
        <div class="login">
            <h1>Log In</h1>
            <form id='login_form'>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="username">Username:</label>
                    </div>
                    <div class="field_right">
                        <input type="text" placeholder="Username" name="username" id="l_username">
                    </div>
                </div>
                <div class="menu_field">
                    <div class="text_left">
                        <label for="password">Password:</label>
                    </div>
                    <div class="field_right">
                        <input type="password" placeholder="Password" name="password" id="l_password">
                    </div>
                </div>

                <br>
                <button class="glowing_button" type="submit" id="b_login" onclick="menu('settings')">Log In</button>
                <!-- remove onclick -->
            </form>
        </div>
        <!-- About div -->
        <div id="myModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close">&times;</span>
                    <h2>About</h2>
                </div>
                <div class="modal-body">
                    <p><b>Developers:</b> Ariel Shilo & Gal Alakalay <br> JQuery Plugin used for this game:
                        <a href="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/additional-methods.js"><u>additional-methods</u></a>,
                        <a href="https://cdn.jsdelivr.net/jquery.validation/1.15.1/jquery.validate.min.js"><u>Validate.</u></a> <br> Button's template taken from <a href="https://codepen.io/kocsten/pen/rggjXp"><u>here.</u></a><br> About modal window taken
                        from <a href="https://www.w3schools.com/howto/howto_css_modals.asp"><u>here.</u></a><br> Difficulties we've engaged with during the development process: <br>
                        <ul>
                            <li>
                                Responsiveness vs. Collision Detection: while testing our game in different screens size, we've struggled to adjust the characters collision with the walls to the screen pixels resolution.
                            </li>
                            <li>
                                Event-handling and asynchronized functions: as part of the 'Green pill', we slowed down the ghosts velocity for 4 seconds, and after that used SetTimeOut function to reset their velocity. But in rare conditions the user would use the 'Red pill' which
                                makes a ghost disappear in 50% chance before it completes the async function. We had to handle this case.
                            </li>
                        </ul>


                    </p>
                </div>
            </div>
        </div>
        <!-- Settings div -->
        <div class="settings">
            <h1>Settings</h1>
            <div id="settings_button_div">
                <div class="text_left">
                    <label for="ArrowUp">Move Up:</label>
                </div>
                <div class="field_right">
                    <input class="key_button" type="button" name="key_button" value="ArrowUp" id="MoveUp_input" onclick="updateKeyControls('MoveUp_input')" required>
                </div>
            </div>
            <div id="settings_button_div">
                <div class="text_left">
                    <label for="ArrowDown">Move Down:</label>
                </div>
                <div class="field_right">
                    <input class="key_button" type="button" name="key_button" value="ArrowDown" id="MoveDown_input" onclick="updateKeyControls('MoveDown_input')" required>
                </div>
            </div>
            <div id="settings_button_div">
                <div class="text_left">
                    <label for="ArrowRight">Move Right:</label>
                </div>
                <div class="field_right">
                    <input class="key_button" type="button" name="key_button" value="ArrowRight" id="MoveRight_input" onclick="updateKeyControls('MoveRight_input')" required>
                </div>
            </div>
            <div id="settings_button_div">
                <div class="text_left">
                    <label for="ArrowLeft">Move Left:</label>
                </div>
                <div class="field_right">
                    <input class="key_button" type="button" name="key_button" value="ArrowLeft" id="MoveLeft_input" onclick="updateKeyControls('MoveLeft_input')" required>
                </div>
            </div>
            <div class="slidecontainer">
                <div class="text_left">
                    <label>Choose number of balls in game:</label>
                </div>
                <div class="field_right">
                    <input type="range" id=slider_bar_balls name="rangeInput" min="50" max="90" oninput="updateTextInput(this.value, 'slider_value_balls');">
                    <input type="text" id="slider_value_balls" value="70" readonly="readonly" style="width:30px; text-align:center">
                </div>
            </div>
            <div class="slidecontainer">
                <div class="text_left">
                    <label>Choose number of monsters in game:</label>
                </div>
                <div class="field_right">
                    <input type="range" id=slider_bar_monsters name="rangeInput" min="1" max="4" oninput="updateTextInput(this.value, 'slider_value_monsters');">
                    <input type="text" id="slider_value_monsters" value="3" readonly="readonly" style="width:30px; text-align:center">
                </div>
            </div>
            <div class="slidecontainer">
                <div class="text_left">
                    <label>Choose number of seconds to play:</label>
                </div>
                <div class="field_right">
                    <input type="range" id=slider_bar_time name="rangeInput" min="60" max="180" oninput="updateTextInput(this.value, 'slider_value_time');">
                    <input type="text" id="slider_value_time" value="90" readonly="readonly" style="width:30px; text-align:center">
                </div>
            </div>
            <br>
            <div class="color_pickers">
                <input id="color1" type="color" value="#50FFEB" style="opacity: 0;" oninput="changeBallColor(this.value,'colorBtn1')" />
                <label class="colorBtn" id="colorBtn1" for="color" style="top: 0px; left: -65px; z-index: -1;"><b>5</b></label>
                <input id="color2" type="color" value="#FF98EE" style="opacity: 0; " oninput="changeBallColor(this.value,'colorBtn2')" />
                <label class="colorBtn" id="colorBtn2" for="color" style="top: 0px; left: -65px; z-index: -1;"><b>15</b></label>
                <input id="color3" type="color" value="#FF5500" style="opacity: 0; " oninput="changeBallColor(this.value,'colorBtn3')" />
                <label class="colorBtn" id="colorBtn3" for="color" style="top: 0px; left: -65px; z-index: -1;"><b>25</b></label>
            </div>
            <button class="glowing_button" type="submit" onclick="generateRandomSettings()" style="top: 30px;">Random Settings</button>
            <button class="glowing_button" type="submit" onclick="menu('pacman'); setGameValues();" style="top: 30px;">Play</button>
        </div>
        <!-- Pacman div -->
        <div class="pacman">
            <div id="game">
                <canvas id="canvas" width="1920" height="1080"></canvas>
                <div id="username_display">
                    <p>Online User:&nbsp</p>
                    <p id="online_username_display"></p>
                </div>
                <div id="score">
                    <p>Score:&nbsp</p>
                    <p id="score_number">0</p>
                </div>
                <div id="timer">
                    <p>Time:&nbsp</p>
                    <p id="timer_count"></p>
                </div>
                <div id="move_keys">
                    <p>Chosen move keys:</p>
                </div>
                <div class="keys_display_game">
                    <input class="key_button_up" type="button" name="key_button" id="MoveUp_game">
                    <input class="key_button_down" type="button" name="key_button" id="MoveDown_game">
                    <input class="key_button_right" type="button" name="key_button" id="MoveRight_game">
                    <input class="key_button_left" type="button" name="key_button" id="MoveLeft_game">
                </div>
                <div id="balls_settings">
                    <p>Food Colors:</p>
                </div>
                <div id="Lives">
                    <p>Lives 'till you die:</p>
                </div>
                <div class="color_pickers_game">
                    <input id="color1_game" type="color" value="#50FFEB" style="opacity: 0;" oninput="changeBallColor(this.value,'colorBtn1_game')" />
                    <label class="colorBtn_game" id="colorBtn1_game" for="color" style="left: -35px; z-index: -1;"><b>5</b></label>
                    <input id="color2_game" type="color" value="#FF98EE" style="opacity: 0; " oninput="changeBallColor(this.value,'colorBtn2_game')" />
                    <label class="colorBtn_game" id="colorBtn2_game" for="color" style="left: -35px; z-index: -1;"><b>15</b></label>
                    <input id="color3_game" type="color" value="#FF5500" style="opacity: 0; " oninput="changeBallColor(this.value,'colorBtn3_game')" />
                    <label class="colorBtn_game" id="colorBtn3_game" for="color" style="left:-35px; z-index:-1;"><b>25</b></label>
                </div>
                <div class="lives">
                    <img id="life1" src="./images/heart.png" style="width: 8%; height: auto;">
                    <img id="life2" src="./images/heart.png" style="width: 8%; height: auto;">
                    <img id="life3" src="./images/heart.png" style="width: 8%; height: auto;">
                    <img id="life4" src="./images/heart.png" style="width: 8%; height: auto;">
                    <img id="life5" src="./images/heart.png" style="width: 8%; height: auto;">
                </div>
                <div class="game_buttons">
                    <button class="glowing_button" id="reset_game_button" type="submit" onclick="reset_game(); menu('settings');" style="top: 30px;">Reset Game</button>
                    <button class="glowing_button" id="music_button" onclick="isplay(music);" style="top: 30px;">music</button>
                </div>
                <script src="./js/board.js"></script>
                <script src="./js/MoveObject.js"></script>
                <script src="./js/pacman.js"></script>
                <script src="./js/ghost.js"></script>
                <script src="./js/cherry.js"></script>
                <script src="./js/game.js"></script>
            </div>

        </div>

    </div>
    <footer>Contact us! &#9993 Ariel Shilo: shiloari@post.bgu.ac.il &#9993 Gal Alkalay: alkalayg@post.bgu.ac.il</footer>
    <script type="text/javascript" src="./js/menu.js"></script>
</body>

</html>